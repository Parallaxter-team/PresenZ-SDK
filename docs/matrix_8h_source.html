<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>PresenZ SDK: PresenZ4.1.0_Linux/include/common/matrix.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PresenZ SDK
   &#160;<span id="projectnumber">4.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('matrix_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">matrix.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="matrix_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef _matrix_h_</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _matrix_h_</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &quot;<a class="code" href="vector_8h.html">vector.h</a>&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">    7</a></span>&#160;<span class="keyword">typedef</span> std::array&lt; std::array&lt;float, 3&gt;, 3 &gt; <a class="code" href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">NozMatrix3</a>;</div>
<div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">    8</a></span>&#160;<span class="keyword">typedef</span> std::array&lt; std::array&lt;float, 4&gt;, 4 &gt; <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">   11</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">NozM4Idendity</a>(<a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mout)</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;{</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    mout[0][0] = 1.0;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    mout[0][1] = 0.0;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    mout[0][2] = 0.0;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    mout[0][3] = 0.0;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    mout[1][0] = 0.0;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    mout[1][1] = 1.0;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    mout[1][2] = 0.0;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    mout[1][3] = 0.0;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    mout[2][0] = 0.0;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    mout[2][1] = 0.0;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    mout[2][2] = 1.0;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    mout[2][3] = 0.0;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    mout[3][0] = 0.0;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    mout[3][1] = 0.0;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    mout[3][2] = 0.0;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    mout[3][3] = 1.0;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;}</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="matrix_8h.html#a5ac8a8e0db5b1184d459544150af88ac">   34</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> <a class="code" href="matrix_8h.html#a5ac8a8e0db5b1184d459544150af88ac">getNozM4Identity</a>() {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> identityMat;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">NozM4Idendity</a>(identityMat);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">return</span> identityMat;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="matrix_8h.html#a50a9b90056a2d7f5e334189e001eed6e">   40</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="matrix_8h.html#a50a9b90056a2d7f5e334189e001eed6e">isNozM4Identity</a>(<span class="keyword">const</span> <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>&amp; m, <span class="keywordtype">float</span> eps = 1e-6f) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> identityMat;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">NozM4Idendity</a>(identityMat);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; 3; ++k)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            <span class="keywordflow">if</span> (fabsf(identityMat[i][k] - m[i][k]) &gt; eps)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="matrix_8h.html#a5b040b12b24902fc623874166eadacb2">   55</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="matrix_8h.html#a5b040b12b24902fc623874166eadacb2">nozMatrix_set</a>(<a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mout,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                          <span class="keywordtype">float</span> r00, <span class="keywordtype">float</span> r01, <span class="keywordtype">float</span> r02, <span class="keywordtype">float</span> r03,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">float</span> r10, <span class="keywordtype">float</span> r11, <span class="keywordtype">float</span> r12, <span class="keywordtype">float</span> r13,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">float</span> r20, <span class="keywordtype">float</span> r21, <span class="keywordtype">float</span> r22, <span class="keywordtype">float</span> r23,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordtype">float</span> r30, <span class="keywordtype">float</span> r31, <span class="keywordtype">float</span> r32, <span class="keywordtype">float</span> r33)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    mout[0][0] = r00;     mout[0][1] = r01;     mout[0][2] = r02;     mout[0][3] = r03;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    mout[1][0] = r10;     mout[1][1] = r11;     mout[1][2] = r12;     mout[1][3] = r13;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    mout[2][0] = r20;     mout[2][1] = r21;     mout[2][2] = r22;     mout[2][3] = r23;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    mout[3][0] = r30;     mout[3][1] = r31;     mout[3][2] = r32;     mout[3][3] = r33;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="matrix_8h.html#a8ddec78c4ace344a33646e72510d9b70">   69</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="matrix_8h.html#a8ddec78c4ace344a33646e72510d9b70">NozM4PointByMatrixMult</a>(<a class="code" href="struct_noz_point.html">NozPoint</a> &amp;pout, <span class="keyword">const</span> <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mat, <span class="keyword">const</span> <a class="code" href="struct_noz_point.html">NozPoint</a> pin)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    pout.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> = mat[0][0] * pin.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][0] * pin.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][0] * pin.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a> + mat[3][0];<span class="comment">// * 1.0;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    pout.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> = mat[0][1] * pin.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][1] * pin.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][1] * pin.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a> + mat[3][1];<span class="comment">// * 1.0;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    pout.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a> = mat[0][2] * pin.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][2] * pin.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][2] * pin.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a> + mat[3][2];<span class="comment">// * 1.0;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="matrix_8h.html#ac90ce9c808c99182cd53e2ff79f3153a">   77</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="struct_noz_point.html">NozPoint</a> <a class="code" href="matrix_8h.html#ac90ce9c808c99182cd53e2ff79f3153a">getNozPointByMatrixMult</a>(<span class="keyword">const</span> <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mat, <span class="keyword">const</span> <a class="code" href="struct_noz_point.html">NozPoint</a> &amp;pin) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="struct_noz_point.html">NozPoint</a> pout;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="matrix_8h.html#a8ddec78c4ace344a33646e72510d9b70">NozM4PointByMatrixMult</a>(pout, mat, pin);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> pout;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="matrix_8h.html#a5e6aaf2fd35de180c864c62a7c25fb56">   84</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="matrix_8h.html#a5e6aaf2fd35de180c864c62a7c25fb56">NozM4VecByMatrixMult</a>(<a class="code" href="struct_noz_point.html">NozVector</a> &amp;vout, <span class="keyword">const</span> <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mat, <span class="keyword">const</span> <a class="code" href="struct_noz_point.html">NozVector</a> vin)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;{</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    vout.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> = mat[0][0] * vin.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][0] * vin.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][0] * vin.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a>;<span class="comment">// + mat[3][0] * 0.0;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    vout.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> = mat[0][1] * vin.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][1] * vin.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][1] * vin.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a>;<span class="comment">// + mat[3][1] * 0.0;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    vout.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a> = mat[0][2] * vin.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][2] * vin.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][2] * vin.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a>;<span class="comment">// + mat[3][2] * 0.0;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="matrix_8h.html#a0d857cee093f27bb8b3be8736acb433c">   93</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="struct_noz_point.html">NozVector</a> <a class="code" href="matrix_8h.html#a0d857cee093f27bb8b3be8736acb433c">getNozVecByMatrixMult</a>(<span class="keyword">const</span> <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mat, <span class="keyword">const</span> <a class="code" href="struct_noz_point.html">NozVector</a> &amp;vin) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="struct_noz_point.html">NozVector</a> vout;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="matrix_8h.html#a5e6aaf2fd35de180c864c62a7c25fb56">NozM4VecByMatrixMult</a>(vout, mat, vin);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> vout;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">//inline const NozVector operator*(const NozMatrix&amp; m, const NozVector&amp; v)</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">//{</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">//    return getNozVecByMatrixMult(m, v);</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">//}</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="matrix_8h.html#a4002f199c3abd4f2cc30b94e32ac1e44">  107</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="matrix_8h.html#a4002f199c3abd4f2cc30b94e32ac1e44">NozM3VecByMatrixMult</a>(<a class="code" href="struct_noz_point.html">NozVector</a> &amp;vout, <span class="keyword">const</span> <a class="code" href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">NozMatrix3</a> &amp;mat, <span class="keyword">const</span> <a class="code" href="struct_noz_point.html">NozVector</a> vin)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    vout.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> = mat[0][0] * vin.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][0] * vin.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][0] * vin.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a>;<span class="comment">// + mat[3][0] * 0.0;</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    vout.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> = mat[0][1] * vin.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][1] * vin.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][1] * vin.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a>;<span class="comment">// + mat[3][1] * 0.0;</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    vout.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a> = mat[0][2] * vin.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][2] * vin.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][2] * vin.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a>;<span class="comment">// + mat[3][2] * 0.0;</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="matrix_8h.html#acefe0aed94d8b41431afc3876e0fd747">  115</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="matrix_8h.html#acefe0aed94d8b41431afc3876e0fd747">NozM4RotationXYZ</a>(<span class="keyword">const</span> <a class="code" href="struct_noz_point.html">NozVector</a> &amp;up,  <span class="keyword">const</span> <span class="keywordtype">float</span> alpha, <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mout)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_noz_point.html">NozVector</a> normalUp = <a class="code" href="group___n_o_z__vector.html#ga19bf5d776ee066f688d5432fe9ce257f">NozVecNormalize</a>(up);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordtype">float</span> c = cos(alpha);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordtype">float</span> s = sin(alpha);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    mout[0][0] = normalUp.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>*normalUp.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a> * (1 - c) + c;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    mout[0][1] = normalUp.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>*normalUp.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> * (1 - c) - normalUp.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a>*s;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    mout[0][2] = normalUp.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>*normalUp.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a> * (1 - c) + normalUp.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a>*s;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    mout[0][3] = 0.0;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    mout[1][0] = normalUp.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>*normalUp.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> * (1 - c) + normalUp.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a>*s;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    mout[1][1] = normalUp.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a>*normalUp.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a> * (1 - c) + c;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    mout[1][2] = normalUp.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a>*normalUp.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a> * (1 - c) - normalUp.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>*s;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    mout[1][3] = 0.0;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    mout[2][0] = normalUp.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>*normalUp.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a> * (1 - c) - normalUp.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a>*s;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    mout[2][1] = normalUp.<a class="code" href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">y</a>*normalUp.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a> * (1 - c) + normalUp.<a class="code" href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">x</a>*s;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    mout[2][2] = normalUp.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a>*normalUp.<a class="code" href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">z</a> * (1 - c) + c;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    mout[2][3] = 0.0;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    mout[3][0] = 0.0;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    mout[3][1] = 0.0;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    mout[3][2] = 0.0;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    mout[3][3] = 1.0;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="matrix_8h.html#a1e9b783791ccb5b5c9861e3e8b27bbb8">  144</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="matrix_8h.html#a1e9b783791ccb5b5c9861e3e8b27bbb8">NozM3Idendity</a>(<a class="code" href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">NozMatrix3</a> &amp;mout){</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    mout[0][0] = 1.0;   mout[0][1] = 0.0;   mout[0][2] = 0.0;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    mout[1][0] = 0.0;   mout[1][1] = 1.0;    mout[1][2] = 0.0;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    mout[2][0] = 0.0;    mout[2][1] = 0.0;    mout[2][2] = 1.0;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="matrix_8h.html#a3d7f0dcf1fb14b452695135b9cec2602">  150</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="matrix_8h.html#a3d7f0dcf1fb14b452695135b9cec2602">nozMatrix3_set</a>(<a class="code" href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">NozMatrix3</a> &amp;mout,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r00, <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r01, <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r02,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r10, <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r11, <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r12,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r20, <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r21, <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r22)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    mout[0][0] = r00;     mout[0][1] = r01;     mout[0][2] = r02;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    mout[1][0] = r10;     mout[1][1] = r11;     mout[1][2] = r12; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    mout[2][0] = r20;     mout[2][1] = r21;     mout[2][2] = r22;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="matrix_8h.html#a19456a5fc7ca732a48dcd6fa92b889ee">  162</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="matrix_8h.html#a19456a5fc7ca732a48dcd6fa92b889ee">nozMat3GetDeterminant</a>(<span class="keyword">const</span> <a class="code" href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">NozMatrix3</a> &amp;a){</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">//a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> a[0][0] * (a[2][2] * a[1][1] - a[1][2] * a[2][1]) + a[0][1] * (-a[2][2] * a[1][0] + a[1][2] * a[2][0]) + a[0][2] * (a[2][1] * a[1][0] - a[1][1] * a[2][0]);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="matrix_8h.html#ae6e4dbc13184491d8489696d8361da2a">  172</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="matrix_8h.html#ae6e4dbc13184491d8489696d8361da2a">nozMat4inverse</a>(<span class="keyword">const</span> <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;min, <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;FloatResult)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// Inversion by Cramer&#39;s rule.  Code taken from an Intel publication</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> Result;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">float</span> tmp[12]; <span class="comment">/* temp array for pairs */</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordtype">float</span> src[16]; <span class="comment">/* array of transpose source matrix */</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">float</span> det; <span class="comment">/* determinant */</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">/* transpose matrix */</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; 4; i++)</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        src[i + 0 ] = min[i][0];</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        src[i + 4 ] = min[i][1];</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        src[i + 8 ] = min[i][2];</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        src[i + 12] = min[i][3];</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">/* calculate pairs for first 8 elements (cofactors) */</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    tmp[0] = src[10] * src[15];</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    tmp[1] = src[11] * src[14];</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    tmp[2] = src[9] * src[15];</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    tmp[3] = src[11] * src[13];</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    tmp[4] = src[9] * src[14];</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    tmp[5] = src[10] * src[13];</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    tmp[6] = src[8] * src[15];</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    tmp[7] = src[11] * src[12];</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    tmp[8] = src[8] * src[14];</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    tmp[9] = src[10] * src[12];</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    tmp[10] = src[8] * src[13];</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    tmp[11] = src[9] * src[12];</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">/* calculate first 8 elements (cofactors) */</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    Result[0][0] = tmp[0]*src[5] + tmp[3]*src[6] + tmp[4]*src[7];</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    Result[0][0] -= tmp[1]*src[5] + tmp[2]*src[6] + tmp[5]*src[7];</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    Result[0][1] = tmp[1]*src[4] + tmp[6]*src[6] + tmp[9]*src[7];</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    Result[0][1] -= tmp[0]*src[4] + tmp[7]*src[6] + tmp[8]*src[7];</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    Result[0][2] = tmp[2]*src[4] + tmp[7]*src[5] + tmp[10]*src[7];</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    Result[0][2] -= tmp[3]*src[4] + tmp[6]*src[5] + tmp[11]*src[7];</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    Result[0][3] = tmp[5]*src[4] + tmp[8]*src[5] + tmp[11]*src[6];</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    Result[0][3] -= tmp[4]*src[4] + tmp[9]*src[5] + tmp[10]*src[6];</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    Result[1][0] = tmp[1]*src[1] + tmp[2]*src[2] + tmp[5]*src[3];</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    Result[1][0] -= tmp[0]*src[1] + tmp[3]*src[2] + tmp[4]*src[3];</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    Result[1][1] = tmp[0]*src[0] + tmp[7]*src[2] + tmp[8]*src[3];</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    Result[1][1] -= tmp[1]*src[0] + tmp[6]*src[2] + tmp[9]*src[3];</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    Result[1][2] = tmp[3]*src[0] + tmp[6]*src[1] + tmp[11]*src[3];</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    Result[1][2] -= tmp[2]*src[0] + tmp[7]*src[1] + tmp[10]*src[3];</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    Result[1][3] = tmp[4]*src[0] + tmp[9]*src[1] + tmp[10]*src[2];</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    Result[1][3] -= tmp[5]*src[0] + tmp[8]*src[1] + tmp[11]*src[2];</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">/* calculate pairs for second 8 elements (cofactors) */</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    tmp[0] = src[2]*src[7];</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    tmp[1] = src[3]*src[6];</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    tmp[2] = src[1]*src[7];</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    tmp[3] = src[3]*src[5];</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    tmp[4] = src[1]*src[6];</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    tmp[5] = src[2]*src[5];</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    tmp[6] = src[0]*src[7];</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    tmp[7] = src[3]*src[4];</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    tmp[8] = src[0]*src[6];</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    tmp[9] = src[2]*src[4];</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    tmp[10] = src[0]*src[5];</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    tmp[11] = src[1]*src[4];</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">/* calculate second 8 elements (cofactors) */</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    Result[2][0] = tmp[0]*src[13] + tmp[3]*src[14] + tmp[4]*src[15];</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    Result[2][0] -= tmp[1]*src[13] + tmp[2]*src[14] + tmp[5]*src[15];</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    Result[2][1] = tmp[1]*src[12] + tmp[6]*src[14] + tmp[9]*src[15];</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    Result[2][1] -= tmp[0]*src[12] + tmp[7]*src[14] + tmp[8]*src[15];</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    Result[2][2] = tmp[2]*src[12] + tmp[7]*src[13] + tmp[10]*src[15];</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    Result[2][2] -= tmp[3]*src[12] + tmp[6]*src[13] + tmp[11]*src[15];</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    Result[2][3] = tmp[5]*src[12] + tmp[8]*src[13] + tmp[11]*src[14];</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    Result[2][3] -= tmp[4]*src[12] + tmp[9]*src[13] + tmp[10]*src[14];</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    Result[3][0] = tmp[2]*src[10] + tmp[5]*src[11] + tmp[1]*src[9];</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    Result[3][0] -= tmp[4]*src[11] + tmp[0]*src[9] + tmp[3]*src[10];</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    Result[3][1] = tmp[8]*src[11] + tmp[0]*src[8] + tmp[7]*src[10];</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    Result[3][1] -= tmp[6]*src[10] + tmp[9]*src[11] + tmp[1]*src[8];</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    Result[3][2] = tmp[6]*src[9] + tmp[11]*src[11] + tmp[3]*src[8];</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    Result[3][2] -= tmp[10]*src[11] + tmp[2]*src[8] + tmp[7]*src[9];</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    Result[3][3] = tmp[10]*src[10] + tmp[4]*src[8] + tmp[9]*src[9];</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    Result[3][3] -= tmp[8]*src[9] + tmp[11]*src[10] + tmp[5]*src[8];</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">/* calculate determinant */</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    det=src[0]*Result[0][0]+src[1]*Result[0][1]+src[2]*Result[0][2]+src[3]*Result[0][3];</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">/* calculate matrix inverse */</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    det = 1.0f / det;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; 4; i++)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; 4; j++)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            FloatResult[i][j] = float(Result[i][j] * det);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="matrix_8h.html#a23cb5f6996da249863f8d1b5065e6c3c">  267</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="matrix_8h.html#a23cb5f6996da249863f8d1b5065e6c3c">NozM4_MatrixByMatrixMult</a>(<span class="keyword">const</span> <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;A, <span class="keyword">const</span> <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;B, <a class="code" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;Result)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; 4; i++)</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i2 = 0; i2 &lt; 4; i2++)</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordtype">float</span> Total = 0.0f;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i3 = 0; i3 &lt; 4; i3++)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                Total += A[i][i3] * B[i3][i2];</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            Result[i][i2] = Total;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="matrix_8h_html_a0d857cee093f27bb8b3be8736acb433c"><div class="ttname"><a href="matrix_8h.html#a0d857cee093f27bb8b3be8736acb433c">getNozVecByMatrixMult</a></div><div class="ttdeci">NozVector getNozVecByMatrixMult(const NozMatrix &amp;mat, const NozVector &amp;vin)</div><div class="ttdef"><b>Definition:</b> matrix.h:93</div></div>
<div class="ttc" id="matrix_8h_html_a4002f199c3abd4f2cc30b94e32ac1e44"><div class="ttname"><a href="matrix_8h.html#a4002f199c3abd4f2cc30b94e32ac1e44">NozM3VecByMatrixMult</a></div><div class="ttdeci">void NozM3VecByMatrixMult(NozVector &amp;vout, const NozMatrix3 &amp;mat, const NozVector vin)</div><div class="ttdef"><b>Definition:</b> matrix.h:107</div></div>
<div class="ttc" id="struct_noz_point_html_ad0da36b2558901e21e7a30f6c227a45e"><div class="ttname"><a href="struct_noz_point.html#ad0da36b2558901e21e7a30f6c227a45e">NozPoint::x</a></div><div class="ttdeci">float x</div><div class="ttdoc">x </div><div class="ttdef"><b>Definition:</b> vector.h:29</div></div>
<div class="ttc" id="matrix_8h_html_a3d7f0dcf1fb14b452695135b9cec2602"><div class="ttname"><a href="matrix_8h.html#a3d7f0dcf1fb14b452695135b9cec2602">nozMatrix3_set</a></div><div class="ttdeci">void nozMatrix3_set(NozMatrix3 &amp;mout, const float &amp;r00, const float &amp;r01, const float &amp;r02, const float &amp;r10, const float &amp;r11, const float &amp;r12, const float &amp;r20, const float &amp;r21, const float &amp;r22)</div><div class="ttdef"><b>Definition:</b> matrix.h:150</div></div>
<div class="ttc" id="matrix_8h_html_a8ddec78c4ace344a33646e72510d9b70"><div class="ttname"><a href="matrix_8h.html#a8ddec78c4ace344a33646e72510d9b70">NozM4PointByMatrixMult</a></div><div class="ttdeci">void NozM4PointByMatrixMult(NozPoint &amp;pout, const NozMatrix &amp;mat, const NozPoint pin)</div><div class="ttdef"><b>Definition:</b> matrix.h:69</div></div>
<div class="ttc" id="matrix_8h_html_a1e9b783791ccb5b5c9861e3e8b27bbb8"><div class="ttname"><a href="matrix_8h.html#a1e9b783791ccb5b5c9861e3e8b27bbb8">NozM3Idendity</a></div><div class="ttdeci">void NozM3Idendity(NozMatrix3 &amp;mout)</div><div class="ttdoc">NOZ MATRIX 3*3. </div><div class="ttdef"><b>Definition:</b> matrix.h:144</div></div>
<div class="ttc" id="matrix_8h_html_acefe0aed94d8b41431afc3876e0fd747"><div class="ttname"><a href="matrix_8h.html#acefe0aed94d8b41431afc3876e0fd747">NozM4RotationXYZ</a></div><div class="ttdeci">void NozM4RotationXYZ(const NozVector &amp;up, const float alpha, NozMatrix &amp;mout)</div><div class="ttdef"><b>Definition:</b> matrix.h:115</div></div>
<div class="ttc" id="matrix_8h_html_a5b040b12b24902fc623874166eadacb2"><div class="ttname"><a href="matrix_8h.html#a5b040b12b24902fc623874166eadacb2">nozMatrix_set</a></div><div class="ttdeci">void nozMatrix_set(NozMatrix &amp;mout, float r00, float r01, float r02, float r03, float r10, float r11, float r12, float r13, float r20, float r21, float r22, float r23, float r30, float r31, float r32, float r33)</div><div class="ttdef"><b>Definition:</b> matrix.h:55</div></div>
<div class="ttc" id="matrix_8h_html_a5ac8a8e0db5b1184d459544150af88ac"><div class="ttname"><a href="matrix_8h.html#a5ac8a8e0db5b1184d459544150af88ac">getNozM4Identity</a></div><div class="ttdeci">NozMatrix getNozM4Identity()</div><div class="ttdef"><b>Definition:</b> matrix.h:34</div></div>
<div class="ttc" id="matrix_8h_html_a23cb5f6996da249863f8d1b5065e6c3c"><div class="ttname"><a href="matrix_8h.html#a23cb5f6996da249863f8d1b5065e6c3c">NozM4_MatrixByMatrixMult</a></div><div class="ttdeci">void NozM4_MatrixByMatrixMult(const NozMatrix &amp;A, const NozMatrix &amp;B, NozMatrix &amp;Result)</div><div class="ttdef"><b>Definition:</b> matrix.h:267</div></div>
<div class="ttc" id="matrix_8h_html_a8608237d2d11154425dec8c2c5cafe55"><div class="ttname"><a href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">NozM4Idendity</a></div><div class="ttdeci">void NozM4Idendity(NozMatrix &amp;mout)</div><div class="ttdoc">NOZ MATRIX 4*4. </div><div class="ttdef"><b>Definition:</b> matrix.h:11</div></div>
<div class="ttc" id="matrix_8h_html_ae6e4dbc13184491d8489696d8361da2a"><div class="ttname"><a href="matrix_8h.html#ae6e4dbc13184491d8489696d8361da2a">nozMat4inverse</a></div><div class="ttdeci">void nozMat4inverse(const NozMatrix &amp;min, NozMatrix &amp;FloatResult)</div><div class="ttdef"><b>Definition:</b> matrix.h:172</div></div>
<div class="ttc" id="struct_noz_point_html_aa4f0d3eebc3c443f9be81bf48561a217"><div class="ttname"><a href="struct_noz_point.html#aa4f0d3eebc3c443f9be81bf48561a217">NozPoint::y</a></div><div class="ttdeci">float y</div><div class="ttdoc">y </div><div class="ttdef"><b>Definition:</b> vector.h:31</div></div>
<div class="ttc" id="vector_8h_html"><div class="ttname"><a href="vector_8h.html">vector.h</a></div><div class="ttdoc">Vector math types, operators and utilities. </div></div>
<div class="ttc" id="struct_noz_point_html_af73583b1e980b0aa03f9884812e9fd4d"><div class="ttname"><a href="struct_noz_point.html#af73583b1e980b0aa03f9884812e9fd4d">NozPoint::z</a></div><div class="ttdeci">float z</div><div class="ttdoc">z </div><div class="ttdef"><b>Definition:</b> vector.h:33</div></div>
<div class="ttc" id="struct_noz_point_html"><div class="ttname"><a href="struct_noz_point.html">NozPoint</a></div><div class="ttdoc">3D point (single precision) </div><div class="ttdef"><b>Definition:</b> vector.h:26</div></div>
<div class="ttc" id="matrix_8h_html_a5e6aaf2fd35de180c864c62a7c25fb56"><div class="ttname"><a href="matrix_8h.html#a5e6aaf2fd35de180c864c62a7c25fb56">NozM4VecByMatrixMult</a></div><div class="ttdeci">void NozM4VecByMatrixMult(NozVector &amp;vout, const NozMatrix &amp;mat, const NozVector vin)</div><div class="ttdef"><b>Definition:</b> matrix.h:84</div></div>
<div class="ttc" id="matrix_8h_html_a50a9b90056a2d7f5e334189e001eed6e"><div class="ttname"><a href="matrix_8h.html#a50a9b90056a2d7f5e334189e001eed6e">isNozM4Identity</a></div><div class="ttdeci">bool isNozM4Identity(const NozMatrix &amp;m, float eps=1e-6f)</div><div class="ttdef"><b>Definition:</b> matrix.h:40</div></div>
<div class="ttc" id="matrix_8h_html_a15eb5c4da255c65c60623dc95ca45bc1"><div class="ttname"><a href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a></div><div class="ttdeci">std::array&lt; std::array&lt; float, 4 &gt;, 4 &gt; NozMatrix</div><div class="ttdef"><b>Definition:</b> matrix.h:8</div></div>
<div class="ttc" id="matrix_8h_html_ac90ce9c808c99182cd53e2ff79f3153a"><div class="ttname"><a href="matrix_8h.html#ac90ce9c808c99182cd53e2ff79f3153a">getNozPointByMatrixMult</a></div><div class="ttdeci">NozPoint getNozPointByMatrixMult(const NozMatrix &amp;mat, const NozPoint &amp;pin)</div><div class="ttdef"><b>Definition:</b> matrix.h:77</div></div>
<div class="ttc" id="group___n_o_z__vector_html_ga19bf5d776ee066f688d5432fe9ce257f"><div class="ttname"><a href="group___n_o_z__vector.html#ga19bf5d776ee066f688d5432fe9ce257f">NozVecNormalize</a></div><div class="ttdeci">NozVector NozVecNormalize(const NozVector &amp;a)</div><div class="ttdoc">Normalize a vector: a / ||a||. </div><div class="ttdef"><b>Definition:</b> vector.h:638</div></div>
<div class="ttc" id="matrix_8h_html_a19456a5fc7ca732a48dcd6fa92b889ee"><div class="ttname"><a href="matrix_8h.html#a19456a5fc7ca732a48dcd6fa92b889ee">nozMat3GetDeterminant</a></div><div class="ttdeci">double nozMat3GetDeterminant(const NozMatrix3 &amp;a)</div><div class="ttdef"><b>Definition:</b> matrix.h:162</div></div>
<div class="ttc" id="matrix_8h_html_aaeb4039fa3841ea71d8fad3f9c6dc1dc"><div class="ttname"><a href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">NozMatrix3</a></div><div class="ttdeci">std::array&lt; std::array&lt; float, 3 &gt;, 3 &gt; NozMatrix3</div><div class="ttdef"><b>Definition:</b> matrix.h:7</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_6fe91771f43e34487c6a2e5061a20ff3.html">PresenZ4.1.0_Linux</a></li><li class="navelem"><a class="el" href="dir_2b39a481b7a9286cabc3a20ef4295299.html">include</a></li><li class="navelem"><a class="el" href="dir_ef5da015fd3f8bcfa725aff9d80cc7af.html">common</a></li><li class="navelem"><a class="el" href="matrix_8h.html">matrix.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
