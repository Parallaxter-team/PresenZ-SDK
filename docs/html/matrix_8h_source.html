<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PresenZ SDK: PresenZ5.0.0_Windows/include/common/matrix.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PresenZ SDK<span id="projectnumber">&#160;5.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('matrix_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">matrix.h</div></div>
</div><!--header-->
<div class="contents">
<a href="matrix_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#ifndef _matrix_h_</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#define _matrix_h_</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &quot;<a class="code" href="vector_8h.html">vector.h</a>&quot;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span> </div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno"><a class="line" href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">    7</a></span><span class="keyword">typedef</span> std::array&lt; std::array&lt;float, 3&gt;, 3 &gt; <a class="code hl_typedef" href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">NozMatrix3</a>;</div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno"><a class="line" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">    8</a></span><span class="keyword">typedef</span> std::array&lt; std::array&lt;float, 4&gt;, 4 &gt; <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>;</div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span> </div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span> </div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">// FOR FLIPPING Z AXIS (RH to LH or LH to RH)</span></div>
<div class="foldopen" id="foldopen00012" data-start="{" data-end="};">
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno"><a class="line" href="matrix_8h.html#a23966be8274c7064003975a9b09e7bdb">   12</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> <a class="code hl_variable" href="matrix_8h.html#a23966be8274c7064003975a9b09e7bdb">ZFlip</a> = { {</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span>  {{ 1, 0,  0, 0 }},</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>  {{ 0, 1,  0, 0 }},</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>  {{ 0, 0, -1, 0 }},</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>  {{ 0, 0,  0, 1 }},</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>} };</div>
</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="foldopen" id="foldopen00020" data-start="{" data-end="}">
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno"><a class="line" href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">   20</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">NozM4Idendity</a>(<a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mout)</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>{</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>    mout[0][0] = 1.0;</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>    mout[0][1] = 0.0;</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>    mout[0][2] = 0.0;</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>    mout[0][3] = 0.0;</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    mout[1][0] = 0.0;</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    mout[1][1] = 1.0;</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>    mout[1][2] = 0.0;</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    mout[1][3] = 0.0;</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    mout[2][0] = 0.0;</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    mout[2][1] = 0.0;</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    mout[2][2] = 1.0;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    mout[2][3] = 0.0;</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    mout[3][0] = 0.0;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    mout[3][1] = 0.0;</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    mout[3][2] = 0.0;</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    mout[3][3] = 1.0;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>}</div>
</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="foldopen" id="foldopen00043" data-start="{" data-end="}">
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="matrix_8h.html#a5ac8a8e0db5b1184d459544150af88ac">   43</a></span><span class="keyword">inline</span> <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> <a class="code hl_function" href="matrix_8h.html#a5ac8a8e0db5b1184d459544150af88ac">getNozM4Identity</a>() {</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> identityMat;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <a class="code hl_function" href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">NozM4Idendity</a>(identityMat);</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="keywordflow">return</span> identityMat;</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>}</div>
</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="foldopen" id="foldopen00049" data-start="{" data-end="}">
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="matrix_8h.html#a50a9b90056a2d7f5e334189e001eed6e">   49</a></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="matrix_8h.html#a50a9b90056a2d7f5e334189e001eed6e">isNozM4Identity</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>&amp; m, <span class="keywordtype">float</span> eps = 1e-6f) {</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> identityMat;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <a class="code hl_function" href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">NozM4Idendity</a>(identityMat);</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; 3; ++k)</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>            <span class="keywordflow">if</span> (fabsf(identityMat[i][k] - m[i][k]) &gt; eps)</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    }</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>}</div>
</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> </div>
<div class="foldopen" id="foldopen00063" data-start="{" data-end="}">
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="matrix_8h.html#a5b040b12b24902fc623874166eadacb2">   63</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#a5b040b12b24902fc623874166eadacb2">nozMatrix_set</a>(<a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mout,</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>                          <span class="keywordtype">float</span> r00, <span class="keywordtype">float</span> r01, <span class="keywordtype">float</span> r02, <span class="keywordtype">float</span> r03,</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <span class="keywordtype">float</span> r10, <span class="keywordtype">float</span> r11, <span class="keywordtype">float</span> r12, <span class="keywordtype">float</span> r13,</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <span class="keywordtype">float</span> r20, <span class="keywordtype">float</span> r21, <span class="keywordtype">float</span> r22, <span class="keywordtype">float</span> r23,</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="keywordtype">float</span> r30, <span class="keywordtype">float</span> r31, <span class="keywordtype">float</span> r32, <span class="keywordtype">float</span> r33)</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>{</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    mout[0][0] = r00;     mout[0][1] = r01;     mout[0][2] = r02;     mout[0][3] = r03;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    mout[1][0] = r10;     mout[1][1] = r11;     mout[1][2] = r12;     mout[1][3] = r13;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    mout[2][0] = r20;     mout[2][1] = r21;     mout[2][2] = r22;     mout[2][3] = r23;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    mout[3][0] = r30;     mout[3][1] = r31;     mout[3][2] = r32;     mout[3][3] = r33;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>}</div>
</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="foldopen" id="foldopen00077" data-start="{" data-end="}">
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="matrix_8h.html#a8ddec78c4ace344a33646e72510d9b70">   77</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#a8ddec78c4ace344a33646e72510d9b70">NozM4PointByMatrixMult</a>(<a class="code hl_struct" href="struct_noz_point.html">NozPoint</a> &amp;pout, <span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mat, <span class="keyword">const</span> <a class="code hl_struct" href="struct_noz_point.html">NozPoint</a> pin)</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>{</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    pout.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> = mat[0][0] * pin.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][0] * pin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][0] * pin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a> + mat[3][0];<span class="comment">// * 1.0;</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    pout.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> = mat[0][1] * pin.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][1] * pin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][1] * pin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a> + mat[3][1];<span class="comment">// * 1.0;</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    pout.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a> = mat[0][2] * pin.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][2] * pin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][2] * pin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a> + mat[3][2];<span class="comment">// * 1.0;</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>}</div>
</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="foldopen" id="foldopen00085" data-start="{" data-end="}">
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="matrix_8h.html#ac90ce9c808c99182cd53e2ff79f3153a">   85</a></span><span class="keyword">inline</span> <a class="code hl_struct" href="struct_noz_point.html">NozPoint</a> <a class="code hl_function" href="matrix_8h.html#ac90ce9c808c99182cd53e2ff79f3153a">getNozPointByMatrixMult</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mat, <span class="keyword">const</span> <a class="code hl_struct" href="struct_noz_point.html">NozPoint</a> &amp;pin) {</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <a class="code hl_struct" href="struct_noz_point.html">NozPoint</a> pout;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <a class="code hl_function" href="matrix_8h.html#a8ddec78c4ace344a33646e72510d9b70">NozM4PointByMatrixMult</a>(pout, mat, pin);</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="keywordflow">return</span> pout;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>}</div>
</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="foldopen" id="foldopen00092" data-start="{" data-end="}">
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="matrix_8h.html#a5e6aaf2fd35de180c864c62a7c25fb56">   92</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#a5e6aaf2fd35de180c864c62a7c25fb56">NozM4VecByMatrixMult</a>(<a class="code hl_struct" href="struct_noz_point.html">NozVector</a> &amp;vout, <span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mat, <span class="keyword">const</span> <a class="code hl_struct" href="struct_noz_point.html">NozVector</a> vin)</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>{</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    vout.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> = mat[0][0] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][0] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][0] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a>;<span class="comment">// + mat[3][0] * 0.0;</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    vout.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> = mat[0][1] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][1] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][1] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a>;<span class="comment">// + mat[3][1] * 0.0;</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    vout.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a> = mat[0][2] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][2] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][2] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a>;<span class="comment">// + mat[3][2] * 0.0;</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>}</div>
</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span> </div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="foldopen" id="foldopen00101" data-start="{" data-end="}">
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno"><a class="line" href="matrix_8h.html#a0d857cee093f27bb8b3be8736acb433c">  101</a></span><span class="keyword">inline</span> <a class="code hl_struct" href="struct_noz_point.html">NozVector</a> <a class="code hl_function" href="matrix_8h.html#a0d857cee093f27bb8b3be8736acb433c">getNozVecByMatrixMult</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mat, <span class="keyword">const</span> <a class="code hl_struct" href="struct_noz_point.html">NozVector</a> &amp;vin) {</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <a class="code hl_struct" href="struct_noz_point.html">NozVector</a> vout;</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <a class="code hl_function" href="matrix_8h.html#a5e6aaf2fd35de180c864c62a7c25fb56">NozM4VecByMatrixMult</a>(vout, mat, vin);</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="keywordflow">return</span> vout;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>}</div>
</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="comment">//inline const NozVector operator*(const NozMatrix&amp; m, const NozVector&amp; v)</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment">//{</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="comment">//    return getNozVecByMatrixMult(m, v);</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="comment">//</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span><span class="comment">//}</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="foldopen" id="foldopen00115" data-start="{" data-end="}">
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="matrix_8h.html#a4002f199c3abd4f2cc30b94e32ac1e44">  115</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#a4002f199c3abd4f2cc30b94e32ac1e44">NozM3VecByMatrixMult</a>(<a class="code hl_struct" href="struct_noz_point.html">NozVector</a> &amp;vout, <span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">NozMatrix3</a> &amp;mat, <span class="keyword">const</span> <a class="code hl_struct" href="struct_noz_point.html">NozVector</a> vin)</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>{</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    vout.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> = mat[0][0] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][0] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][0] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a>;<span class="comment">// + mat[3][0] * 0.0;</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    vout.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> = mat[0][1] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][1] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][1] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a>;<span class="comment">// + mat[3][1] * 0.0;</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    vout.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a> = mat[0][2] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> + mat[1][2] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> + mat[2][2] * vin.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a>;<span class="comment">// + mat[3][2] * 0.0;</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>}</div>
</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span> </div>
<div class="foldopen" id="foldopen00123" data-start="{" data-end="}">
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno"><a class="line" href="matrix_8h.html#acefe0aed94d8b41431afc3876e0fd747">  123</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#acefe0aed94d8b41431afc3876e0fd747">NozM4RotationXYZ</a>(<span class="keyword">const</span> <a class="code hl_struct" href="struct_noz_point.html">NozVector</a> &amp;up,  <span class="keyword">const</span> <span class="keywordtype">float</span> alpha, <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;mout)</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>{</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_noz_point.html">NozVector</a> normalUp = <a class="code hl_function" href="group___n_o_z__vector.html#ga19bf5d776ee066f688d5432fe9ce257f">NozVecNormalize</a>(up);</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="keywordtype">float</span> c = cos(alpha);</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="keywordtype">float</span> s = sin(alpha);</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    mout[0][0] = normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a>*normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a> * (1 - c) + c;</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    mout[0][1] = normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a>*normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> * (1 - c) - normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a>*s;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    mout[0][2] = normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a>*normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a> * (1 - c) + normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a>*s;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    mout[0][3] = 0.0;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    mout[1][0] = normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a>*normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> * (1 - c) + normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a>*s;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    mout[1][1] = normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a>*normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a> * (1 - c) + c;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    mout[1][2] = normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a>*normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a> * (1 - c) - normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a>*s;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    mout[1][3] = 0.0;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    mout[2][0] = normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a>*normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a> * (1 - c) - normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a>*s;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    mout[2][1] = normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">y</a>*normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a> * (1 - c) + normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">x</a>*s;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    mout[2][2] = normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a>*normalUp.<a class="code hl_variable" href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">z</a> * (1 - c) + c;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    mout[2][3] = 0.0;</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span> </div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    mout[3][0] = 0.0;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    mout[3][1] = 0.0;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    mout[3][2] = 0.0;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    mout[3][3] = 1.0;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>}</div>
</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="foldopen" id="foldopen00152" data-start="{" data-end="}">
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno"><a class="line" href="matrix_8h.html#a1e9b783791ccb5b5c9861e3e8b27bbb8">  152</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#a1e9b783791ccb5b5c9861e3e8b27bbb8">NozM3Idendity</a>(<a class="code hl_typedef" href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">NozMatrix3</a> &amp;mout){</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    mout[0][0] = 1.0;   mout[0][1] = 0.0;   mout[0][2] = 0.0;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    mout[1][0] = 0.0;   mout[1][1] = 1.0;    mout[1][2] = 0.0;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    mout[2][0] = 0.0;    mout[2][1] = 0.0;    mout[2][2] = 1.0;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>}</div>
</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span> </div>
<div class="foldopen" id="foldopen00158" data-start="{" data-end="}">
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno"><a class="line" href="matrix_8h.html#a3d7f0dcf1fb14b452695135b9cec2602">  158</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#a3d7f0dcf1fb14b452695135b9cec2602">nozMatrix3_set</a>(<a class="code hl_typedef" href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">NozMatrix3</a> &amp;mout,</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>                            <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r00, <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r01, <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r02,</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>                            <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r10, <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r11, <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r12,</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>                            <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r20, <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r21, <span class="keyword">const</span> <span class="keywordtype">float</span>&amp; r22)</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>{</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    mout[0][0] = r00;     mout[0][1] = r01;     mout[0][2] = r02;</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    mout[1][0] = r10;     mout[1][1] = r11;     mout[1][2] = r12; </div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    mout[2][0] = r20;     mout[2][1] = r21;     mout[2][2] = r22;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>}</div>
</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> </div>
<div class="foldopen" id="foldopen00170" data-start="{" data-end="}">
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="matrix_8h.html#a19456a5fc7ca732a48dcd6fa92b889ee">  170</a></span><span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code hl_function" href="matrix_8h.html#a19456a5fc7ca732a48dcd6fa92b889ee">nozMat3GetDeterminant</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">NozMatrix3</a> &amp;a){</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="comment">//a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span> </div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="keywordflow">return</span> a[0][0] * (a[2][2] * a[1][1] - a[1][2] * a[2][1]) + a[0][1] * (-a[2][2] * a[1][0] + a[1][2] * a[2][0]) + a[0][2] * (a[2][1] * a[1][0] - a[1][1] * a[2][0]);</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>}</div>
</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="foldopen" id="foldopen00178" data-start="{" data-end="}">
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno"><a class="line" href="matrix_8h.html#a1be9e2de0a1cd83a4171dde2307e0a66">  178</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#a1be9e2de0a1cd83a4171dde2307e0a66">nozMat4gjInverse</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>&amp; m, <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>&amp; out)</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>{</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="comment">// Gauss–Jordan elimination with partial pivoting on [m | I]</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="comment">// Works with row-major NozMatrix and avoids NaNs on near-singular inputs.</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span> </div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="comment">// Augmented matrix: 4 rows, 8 cols  =&gt; [m | I]</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="keywordtype">float</span> a[4][8];</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; 4; ++r) {</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        a[r][0] = m[r][0]; a[r][1] = m[r][1]; a[r][2] = m[r][2]; a[r][3] = m[r][3];</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        a[r][4] = (r == 0) ? 1.f : 0.f;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        a[r][5] = (r == 1) ? 1.f : 0.f;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        a[r][6] = (r == 2) ? 1.f : 0.f;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        a[r][7] = (r == 3) ? 1.f : 0.f;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    }</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="comment">// Forward elimination</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> col = 0; col &lt; 4; ++col) {</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        <span class="comment">// Find pivot row</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>        <span class="keywordtype">int</span> pivot = col;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>        <span class="keywordtype">float</span> maxAbs = fabsf(a[col][col]);</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = col + 1; r &lt; 4; ++r) {</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>            <span class="keywordtype">float</span> v = fabsf(a[r][col]);</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>            <span class="keywordflow">if</span> (v &gt; maxAbs) { maxAbs = v; pivot = r; }</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        }</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        <span class="comment">// Singular / nearly singular: return identity to avoid NaNs</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        <span class="keywordflow">if</span> (maxAbs &lt; <a class="code hl_define" href="constant_8h.html#a107c67dbf6a4414eb77ada645a15dd9a">NOZ_EPSILON</a>) {</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>            <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Cannot invert singular matrix.&quot;</span>);</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>            <a class="code hl_function" href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">NozM4Idendity</a>(out);</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        }</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>        <span class="comment">// Swap current row with pivot row</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        <span class="keywordflow">if</span> (pivot != col) {</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; 8; ++c) std::swap(a[col][c], a[pivot][c]);</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        }</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        <span class="comment">// Normalize pivot row</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        <span class="keywordtype">float</span> invPivot = 1.0f / a[col][col];</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; 8; ++c) a[col][c] *= invPivot;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>        <span class="comment">// Eliminate this column in other rows</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; 4; ++r) {</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>            <span class="keywordflow">if</span> (r == col) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>            <span class="keywordtype">float</span> f = a[r][col];</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>            <span class="keywordflow">if</span> (f != 0.0f) {</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; 8; ++c) a[r][c] -= f * a[col][c];</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>            }</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        }</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    }</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="comment">// Extract inverse from augmented matrix</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; 4; ++r) {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>        out[r][0] = a[r][4];</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        out[r][1] = a[r][5];</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>        out[r][2] = a[r][6];</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        out[r][3] = a[r][7];</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    }</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>}</div>
</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span> </div>
<div class="foldopen" id="foldopen00239" data-start="{" data-end="}">
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno"><a class="line" href="matrix_8h.html#ae6e4dbc13184491d8489696d8361da2a">  239</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#ae6e4dbc13184491d8489696d8361da2a">nozMat4inverse</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;min, <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> &amp;FloatResult)</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>{</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="keywordflow">if</span> (min[0][3] != 0 || min[1][3] != 0 || min[2][3] != 0 || min[3][3] != 1) {</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        <a class="code hl_function" href="matrix_8h.html#a1be9e2de0a1cd83a4171dde2307e0a66">nozMat4gjInverse</a>(min, FloatResult);</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    }</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    FloatResult = { {</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        {{</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        min[1][1] * min[2][2] - min[2][1] * min[1][2],</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>        min[2][1] * min[0][2] - min[0][1] * min[2][2],</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        min[0][1] * min[1][2] - min[1][1] * min[0][2],</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        0</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        }},</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        {{</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>        min[2][0] * min[1][2] - min[1][0] * min[2][2],</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        min[0][0] * min[2][2] - min[2][0] * min[0][2],</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        min[1][0] * min[0][2] - min[0][0] * min[1][2],</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        0 }},</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>        {{</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        min[1][0] * min[2][1] - min[2][0] * min[1][1],</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        min[2][0] * min[0][1] - min[0][0] * min[2][1],</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        min[0][0] * min[1][1] - min[1][0] * min[0][1],</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        0}},</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        {{ 0, 0, 0, 1 }},</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        } };</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span> </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <span class="keywordtype">float</span> r = min[0][0] * FloatResult[0][0] + min[0][1] * FloatResult[1][0] + min[0][2] * FloatResult[2][0];</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="keywordflow">if</span> (fabsf(r) &gt;= 1) {</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; ++j) {</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>                FloatResult[i][j] /= r;</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>            }</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        }</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    }</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <span class="keywordtype">float</span> mr = fabsf(r) / std::numeric_limits&lt;float&gt;::min();</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; ++j) {</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>                <span class="keywordflow">if</span> (mr &gt; fabsf(FloatResult[i][j])) {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>                    FloatResult[i][j] /= r;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>                }</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>                    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Cannot invert singular matrix.&quot;</span>);</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>                    FloatResult = <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>();</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>                }</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>            }</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>        }</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    }</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    FloatResult[3][0] = -min[3][0] * FloatResult[0][0] - min[3][1] * FloatResult[1][0] - min[3][2] * FloatResult[2][0];</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    FloatResult[3][1] = -min[3][0] * FloatResult[0][1] - min[3][1] * FloatResult[1][1] - min[3][2] * FloatResult[2][1];</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    FloatResult[3][2] = -min[3][0] * FloatResult[0][2] - min[3][1] * FloatResult[1][2] - min[3][2] * FloatResult[2][2];</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>}</div>
</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span> </div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span> </div>
<div class="foldopen" id="foldopen00299" data-start="{" data-end="}">
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno"><a class="line" href="matrix_8h.html#a23cb5f6996da249863f8d1b5065e6c3c">  299</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#a23cb5f6996da249863f8d1b5065e6c3c">NozM4_MatrixByMatrixMult</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>&amp; A, <span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>&amp; B, <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>&amp; Result)</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>{</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> tmp;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; 4; i++) {</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; 4; j++) {</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>            <span class="keywordtype">float</span> total = 0.0f;</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> k = 0; k &lt; 4; k++) {</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>                total += A[i][k] * B[k][j];</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>            }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>            tmp[i][j] = total;</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        }</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    }</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    Result = tmp;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>}</div>
</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="foldopen" id="foldopen00314" data-start="{" data-end="}">
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno"><a class="line" href="matrix_8h.html#ab06a1a09a159e34daf4d3d1eddadce51">  314</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#ab06a1a09a159e34daf4d3d1eddadce51">NozM4Transpose3x3</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>&amp; m, <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>&amp; out)</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>{</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="comment">// start from identity to preserve [0 0 0 1] and zero translations</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <a class="code hl_function" href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">NozM4Idendity</a>(out);</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <span class="comment">// transpose the 3x3 rotational/reflection block</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    out[0][0] = m[0][0]; out[0][1] = m[1][0]; out[0][2] = m[2][0];</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    out[1][0] = m[0][1]; out[1][1] = m[1][1]; out[1][2] = m[2][1];</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    out[2][0] = m[0][2]; out[2][1] = m[1][2]; out[2][2] = m[2][2];</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>}</div>
</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="foldopen" id="foldopen00327" data-start="{" data-end="}">
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno"><a class="line" href="matrix_8h.html#aecdc8ebc99c06ab926a97622597599a1">  327</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="matrix_8h.html#aecdc8ebc99c06ab926a97622597599a1">NozM4HandnessAxisMatrix</a>(<span class="keywordtype">int</span> handness, <span class="keywordtype">int</span> upAxis, <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a>&amp; mout)</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>{</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    <a class="code hl_function" href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">NozM4Idendity</a>(mout);</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    <span class="keywordflow">if</span> (upAxis == 2) {</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> rot = <a class="code hl_function" href="matrix_8h.html#a5ac8a8e0db5b1184d459544150af88ac">getNozM4Identity</a>();</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>        rot[0][0] = 1.0f;  rot[0][1] = 0.0f;  rot[0][2] = 0.0f;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        rot[1][0] = 0.0f;  rot[1][1] = 0.0f;  rot[1][2] = -1.0f;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        rot[2][0] = 0.0f;  rot[2][1] = 1.0f; rot[2][2] = 0.0f;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        <a class="code hl_function" href="matrix_8h.html#a23cb5f6996da249863f8d1b5065e6c3c">NozM4_MatrixByMatrixMult</a>(rot, mout, mout);</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    }</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (upAxis == 0) {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> rot = <a class="code hl_function" href="matrix_8h.html#a5ac8a8e0db5b1184d459544150af88ac">getNozM4Identity</a>();</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        rot[0][0] = 0.0f; rot[0][1] = -1.0f;</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        rot[1][0] = 1.0f; rot[1][1] = 0.0f;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        <a class="code hl_function" href="matrix_8h.html#a23cb5f6996da249863f8d1b5065e6c3c">NozM4_MatrixByMatrixMult</a>(rot, mout, mout);</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    }</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <span class="keywordflow">if</span> (handness == 1) {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        <a class="code hl_typedef" href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a> flip = <a class="code hl_function" href="matrix_8h.html#a5ac8a8e0db5b1184d459544150af88ac">getNozM4Identity</a>();</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        flip[2][2] = -1.0f;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <a class="code hl_function" href="matrix_8h.html#a23cb5f6996da249863f8d1b5065e6c3c">NozM4_MatrixByMatrixMult</a>(mout, flip, mout);</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    }</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>}</div>
</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span> </div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span><span class="preprocessor">#endif</span></div>
<div class="ttc" id="aconstant_8h_html_a107c67dbf6a4414eb77ada645a15dd9a"><div class="ttname"><a href="constant_8h.html#a107c67dbf6a4414eb77ada645a15dd9a">NOZ_EPSILON</a></div><div class="ttdeci">#define NOZ_EPSILON</div><div class="ttdef"><b>Definition</b> constant.h:15</div></div>
<div class="ttc" id="agroup___n_o_z__vector_html_ga19bf5d776ee066f688d5432fe9ce257f"><div class="ttname"><a href="group___n_o_z__vector.html#ga19bf5d776ee066f688d5432fe9ce257f">NozVecNormalize</a></div><div class="ttdeci">NozVector NozVecNormalize(const NozVector &amp;a)</div><div class="ttdoc">Normalize a vector: a / ||a||.</div><div class="ttdef"><b>Definition</b> vector.h:664</div></div>
<div class="ttc" id="agroup___n_o_z__vector_html_gaa4f0d3eebc3c443f9be81bf48561a217"><div class="ttname"><a href="group___n_o_z__vector.html#gaa4f0d3eebc3c443f9be81bf48561a217">NozPoint::y</a></div><div class="ttdeci">float y</div><div class="ttdoc">y</div><div class="ttdef"><b>Definition</b> vector.h:44</div></div>
<div class="ttc" id="agroup___n_o_z__vector_html_gad0da36b2558901e21e7a30f6c227a45e"><div class="ttname"><a href="group___n_o_z__vector.html#gad0da36b2558901e21e7a30f6c227a45e">NozPoint::x</a></div><div class="ttdeci">float x</div><div class="ttdoc">x</div><div class="ttdef"><b>Definition</b> vector.h:42</div></div>
<div class="ttc" id="agroup___n_o_z__vector_html_gaf73583b1e980b0aa03f9884812e9fd4d"><div class="ttname"><a href="group___n_o_z__vector.html#gaf73583b1e980b0aa03f9884812e9fd4d">NozPoint::z</a></div><div class="ttdeci">float z</div><div class="ttdoc">z</div><div class="ttdef"><b>Definition</b> vector.h:46</div></div>
<div class="ttc" id="amatrix_8h_html_a0d857cee093f27bb8b3be8736acb433c"><div class="ttname"><a href="matrix_8h.html#a0d857cee093f27bb8b3be8736acb433c">getNozVecByMatrixMult</a></div><div class="ttdeci">NozVector getNozVecByMatrixMult(const NozMatrix &amp;mat, const NozVector &amp;vin)</div><div class="ttdef"><b>Definition</b> matrix.h:101</div></div>
<div class="ttc" id="amatrix_8h_html_a15eb5c4da255c65c60623dc95ca45bc1"><div class="ttname"><a href="matrix_8h.html#a15eb5c4da255c65c60623dc95ca45bc1">NozMatrix</a></div><div class="ttdeci">std::array&lt; std::array&lt; float, 4 &gt;, 4 &gt; NozMatrix</div><div class="ttdef"><b>Definition</b> matrix.h:8</div></div>
<div class="ttc" id="amatrix_8h_html_a19456a5fc7ca732a48dcd6fa92b889ee"><div class="ttname"><a href="matrix_8h.html#a19456a5fc7ca732a48dcd6fa92b889ee">nozMat3GetDeterminant</a></div><div class="ttdeci">double nozMat3GetDeterminant(const NozMatrix3 &amp;a)</div><div class="ttdef"><b>Definition</b> matrix.h:170</div></div>
<div class="ttc" id="amatrix_8h_html_a1be9e2de0a1cd83a4171dde2307e0a66"><div class="ttname"><a href="matrix_8h.html#a1be9e2de0a1cd83a4171dde2307e0a66">nozMat4gjInverse</a></div><div class="ttdeci">void nozMat4gjInverse(const NozMatrix &amp;m, NozMatrix &amp;out)</div><div class="ttdef"><b>Definition</b> matrix.h:178</div></div>
<div class="ttc" id="amatrix_8h_html_a1e9b783791ccb5b5c9861e3e8b27bbb8"><div class="ttname"><a href="matrix_8h.html#a1e9b783791ccb5b5c9861e3e8b27bbb8">NozM3Idendity</a></div><div class="ttdeci">void NozM3Idendity(NozMatrix3 &amp;mout)</div><div class="ttdoc">NOZ MATRIX 3*3.</div><div class="ttdef"><b>Definition</b> matrix.h:152</div></div>
<div class="ttc" id="amatrix_8h_html_a23966be8274c7064003975a9b09e7bdb"><div class="ttname"><a href="matrix_8h.html#a23966be8274c7064003975a9b09e7bdb">ZFlip</a></div><div class="ttdeci">static const NozMatrix ZFlip</div><div class="ttdef"><b>Definition</b> matrix.h:12</div></div>
<div class="ttc" id="amatrix_8h_html_a23cb5f6996da249863f8d1b5065e6c3c"><div class="ttname"><a href="matrix_8h.html#a23cb5f6996da249863f8d1b5065e6c3c">NozM4_MatrixByMatrixMult</a></div><div class="ttdeci">void NozM4_MatrixByMatrixMult(const NozMatrix &amp;A, const NozMatrix &amp;B, NozMatrix &amp;Result)</div><div class="ttdef"><b>Definition</b> matrix.h:299</div></div>
<div class="ttc" id="amatrix_8h_html_a3d7f0dcf1fb14b452695135b9cec2602"><div class="ttname"><a href="matrix_8h.html#a3d7f0dcf1fb14b452695135b9cec2602">nozMatrix3_set</a></div><div class="ttdeci">void nozMatrix3_set(NozMatrix3 &amp;mout, const float &amp;r00, const float &amp;r01, const float &amp;r02, const float &amp;r10, const float &amp;r11, const float &amp;r12, const float &amp;r20, const float &amp;r21, const float &amp;r22)</div><div class="ttdef"><b>Definition</b> matrix.h:158</div></div>
<div class="ttc" id="amatrix_8h_html_a4002f199c3abd4f2cc30b94e32ac1e44"><div class="ttname"><a href="matrix_8h.html#a4002f199c3abd4f2cc30b94e32ac1e44">NozM3VecByMatrixMult</a></div><div class="ttdeci">void NozM3VecByMatrixMult(NozVector &amp;vout, const NozMatrix3 &amp;mat, const NozVector vin)</div><div class="ttdef"><b>Definition</b> matrix.h:115</div></div>
<div class="ttc" id="amatrix_8h_html_a50a9b90056a2d7f5e334189e001eed6e"><div class="ttname"><a href="matrix_8h.html#a50a9b90056a2d7f5e334189e001eed6e">isNozM4Identity</a></div><div class="ttdeci">bool isNozM4Identity(const NozMatrix &amp;m, float eps=1e-6f)</div><div class="ttdef"><b>Definition</b> matrix.h:49</div></div>
<div class="ttc" id="amatrix_8h_html_a5ac8a8e0db5b1184d459544150af88ac"><div class="ttname"><a href="matrix_8h.html#a5ac8a8e0db5b1184d459544150af88ac">getNozM4Identity</a></div><div class="ttdeci">NozMatrix getNozM4Identity()</div><div class="ttdef"><b>Definition</b> matrix.h:43</div></div>
<div class="ttc" id="amatrix_8h_html_a5b040b12b24902fc623874166eadacb2"><div class="ttname"><a href="matrix_8h.html#a5b040b12b24902fc623874166eadacb2">nozMatrix_set</a></div><div class="ttdeci">void nozMatrix_set(NozMatrix &amp;mout, float r00, float r01, float r02, float r03, float r10, float r11, float r12, float r13, float r20, float r21, float r22, float r23, float r30, float r31, float r32, float r33)</div><div class="ttdef"><b>Definition</b> matrix.h:63</div></div>
<div class="ttc" id="amatrix_8h_html_a5e6aaf2fd35de180c864c62a7c25fb56"><div class="ttname"><a href="matrix_8h.html#a5e6aaf2fd35de180c864c62a7c25fb56">NozM4VecByMatrixMult</a></div><div class="ttdeci">void NozM4VecByMatrixMult(NozVector &amp;vout, const NozMatrix &amp;mat, const NozVector vin)</div><div class="ttdef"><b>Definition</b> matrix.h:92</div></div>
<div class="ttc" id="amatrix_8h_html_a8608237d2d11154425dec8c2c5cafe55"><div class="ttname"><a href="matrix_8h.html#a8608237d2d11154425dec8c2c5cafe55">NozM4Idendity</a></div><div class="ttdeci">void NozM4Idendity(NozMatrix &amp;mout)</div><div class="ttdoc">NOZ MATRIX 4*4.</div><div class="ttdef"><b>Definition</b> matrix.h:20</div></div>
<div class="ttc" id="amatrix_8h_html_a8ddec78c4ace344a33646e72510d9b70"><div class="ttname"><a href="matrix_8h.html#a8ddec78c4ace344a33646e72510d9b70">NozM4PointByMatrixMult</a></div><div class="ttdeci">void NozM4PointByMatrixMult(NozPoint &amp;pout, const NozMatrix &amp;mat, const NozPoint pin)</div><div class="ttdef"><b>Definition</b> matrix.h:77</div></div>
<div class="ttc" id="amatrix_8h_html_aaeb4039fa3841ea71d8fad3f9c6dc1dc"><div class="ttname"><a href="matrix_8h.html#aaeb4039fa3841ea71d8fad3f9c6dc1dc">NozMatrix3</a></div><div class="ttdeci">std::array&lt; std::array&lt; float, 3 &gt;, 3 &gt; NozMatrix3</div><div class="ttdef"><b>Definition</b> matrix.h:7</div></div>
<div class="ttc" id="amatrix_8h_html_ab06a1a09a159e34daf4d3d1eddadce51"><div class="ttname"><a href="matrix_8h.html#ab06a1a09a159e34daf4d3d1eddadce51">NozM4Transpose3x3</a></div><div class="ttdeci">void NozM4Transpose3x3(const NozMatrix &amp;m, NozMatrix &amp;out)</div><div class="ttdef"><b>Definition</b> matrix.h:314</div></div>
<div class="ttc" id="amatrix_8h_html_ac90ce9c808c99182cd53e2ff79f3153a"><div class="ttname"><a href="matrix_8h.html#ac90ce9c808c99182cd53e2ff79f3153a">getNozPointByMatrixMult</a></div><div class="ttdeci">NozPoint getNozPointByMatrixMult(const NozMatrix &amp;mat, const NozPoint &amp;pin)</div><div class="ttdef"><b>Definition</b> matrix.h:85</div></div>
<div class="ttc" id="amatrix_8h_html_acefe0aed94d8b41431afc3876e0fd747"><div class="ttname"><a href="matrix_8h.html#acefe0aed94d8b41431afc3876e0fd747">NozM4RotationXYZ</a></div><div class="ttdeci">void NozM4RotationXYZ(const NozVector &amp;up, const float alpha, NozMatrix &amp;mout)</div><div class="ttdef"><b>Definition</b> matrix.h:123</div></div>
<div class="ttc" id="amatrix_8h_html_ae6e4dbc13184491d8489696d8361da2a"><div class="ttname"><a href="matrix_8h.html#ae6e4dbc13184491d8489696d8361da2a">nozMat4inverse</a></div><div class="ttdeci">void nozMat4inverse(const NozMatrix &amp;min, NozMatrix &amp;FloatResult)</div><div class="ttdef"><b>Definition</b> matrix.h:239</div></div>
<div class="ttc" id="amatrix_8h_html_aecdc8ebc99c06ab926a97622597599a1"><div class="ttname"><a href="matrix_8h.html#aecdc8ebc99c06ab926a97622597599a1">NozM4HandnessAxisMatrix</a></div><div class="ttdeci">void NozM4HandnessAxisMatrix(int handness, int upAxis, NozMatrix &amp;mout)</div><div class="ttdef"><b>Definition</b> matrix.h:327</div></div>
<div class="ttc" id="astruct_noz_point_html"><div class="ttname"><a href="struct_noz_point.html">NozPoint</a></div><div class="ttdoc">3D point (single precision)</div><div class="ttdef"><b>Definition</b> vector.h:40</div></div>
<div class="ttc" id="avector_8h_html"><div class="ttname"><a href="vector_8h.html">vector.h</a></div><div class="ttdoc">Vector math types, operators and utilities.</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_7b72236fb090e497708a3e915f42b9c1.html">PresenZ5.0.0_Windows</a></li><li class="navelem"><a class="el" href="dir_187a204ddb296aa14ce3446f67884ec3.html">include</a></li><li class="navelem"><a class="el" href="dir_8cf842b9d521d95d02e51957b784c518.html">common</a></li><li class="navelem"><a class="el" href="matrix_8h.html">matrix.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
